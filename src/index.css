@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile Animation Disable - Place at the top for priority */
@media (max-width: 768px), (hover: none) and (pointer: coarse), (prefers-reduced-motion: reduce) {
  /* Disable all animations and transitions on mobile */
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
    transform: none !important;
  }
  
  /* Disable specific animation classes */
  .animate-bounce,
  .animate-pulse,
  .animate-spin,
  .animate-ping,
  .animate-bounce-slow {
    animation: none !important;
  }
  
  /* Disable hover effects on mobile */
  .hover\:scale-105:hover,
  .hover\:scale-110:hover,
  .group-hover\:scale-105,
  .group-hover\:scale-110 {
    transform: none !important;
  }
  
  /* Disable GSAP and Framer Motion animations */
  .gsap-animated,
  .framer-motion-animated {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
  
  /* Reset any floating or parallax effects */
  .floating-element,
  .floating-image-0,
  .floating-image-1,
  .floating-image-2 {
    transform: none !important;
    animation: none !important;
  }
}

/* iOS PWA Optimizations */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --vh: 1vh;
}

/* iOS Viewport Fix */
html, body {
  height: 100%;
  height: calc(var(--vh, 1vh) * 100);
  overflow-x: hidden;
}

/* iOS Safe Area Support */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(20px, env(safe-area-inset-top));
  }
  
  .safe-area-bottom {
    padding-bottom: max(20px, env(safe-area-inset-bottom));
  }
  
  .safe-area-left {
    padding-left: max(0px, env(safe-area-inset-left));
  }
  
  .safe-area-right {
    padding-right: max(0px, env(safe-area-inset-right));
  }
}

/* iOS Standalone App Optimizations */
@media (display-mode: standalone) {
  /* Remove default scrollbar on iOS */
  ::-webkit-scrollbar {
    display: none;
  }
  
  /* Prevent bounce scrolling */
  body {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  /* iOS status bar spacing */
  .status-bar-safe {
    padding-top: var(--safe-area-inset-top);
  }
}

/* iOS Touch Optimizations */
@media (hover: none) and (pointer: coarse) {
  /* Better touch targets for iOS */
  button, .btn, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Remove iOS tap highlighting */
  * {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }
  
  /* iOS-specific input styling */
  input, textarea, select {
    -webkit-appearance: none;
    border-radius: 8px;
  }
}

/* iOS Keyboard Handling */
@media (max-height: 500px) and (orientation: landscape) {
  /* Adjust layout when iOS keyboard is visible */
  .ios-keyboard-adjust {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }
}

/* Custom utilities for larger, more prominent product cards */
@layer utilities {
  .products-grid {
    display: grid !important;
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
    gap: 1rem !important;
  }
  
  @media (min-width: 640px) {
    .products-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
      gap: 1.5rem !important;
    }
  }
  
  @media (min-width: 1024px) {
    .products-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
      gap: 2rem !important;
    }
  }
  
  @media (min-width: 1280px) {
    .products-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
      gap: 2rem !important;
    }
  }
  
  @media (min-width: 1536px) {
    .products-grid {
      grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
      gap: 2rem !important;
    }
  }
}

/* Ensure proper grid item sizing for larger cards */
.product-grid-item {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  min-height: 400px !important;
}

/* Override any potential conflicts */
.products-grid > * {
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure cards maintain consistent height */
.products-grid .product-grid-item > * {
  height: 100% !important;
}
